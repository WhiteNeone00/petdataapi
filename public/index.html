<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üéÆ Pet Simulator 99 Private API</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333;
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      width: 100%;
    }

    header {
      background: rgba(255, 255, 255, 0.95);
      padding: 40px 0;
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
      margin-bottom: 40px;
      border-radius: 15px;
    }

    h1 {
      color: #667eea;
      font-size: 2.8em;
      margin-bottom: 10px;
      text-align: center;
      font-weight: 700;
    }

    .subtitle {
      text-align: center;
      color: #666;
      font-size: 1.15em;
      margin-bottom: 25px;
    }

    .status {
      text-align: center;
      padding: 12px 24px;
      background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
      color: white;
      border-radius: 25px;
      display: inline-block;
      margin: 0 auto;
      display: block;
      width: fit-content;
      font-weight: 600;
      box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
    }

    .content {
      background: white;
      border-radius: 15px;
      padding: 35px;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.15);
      margin-bottom: 30px;
    }

    h2 {
      color: #667eea;
      margin-bottom: 25px;
      padding-bottom: 12px;
      border-bottom: 3px solid #667eea;
      font-size: 1.8em;
    }

    .endpoints {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }

    .endpoint {
      background: linear-gradient(135deg, #f5f7fa 0%, #f0f5ff 100%);
      padding: 22px;
      border-radius: 12px;
      border-left: 5px solid #667eea;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 2px 8px rgba(102, 126, 234, 0.1);
    }

    .endpoint:hover {
      background: linear-gradient(135deg, #e8f0ff 0%, #e0e9ff 100%);
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.25);
      border-left-color: #764ba2;
    }

    .endpoint-name {
      font-weight: 700;
      color: #667eea;
      margin-bottom: 8px;
      font-family: 'Courier New', monospace;
      font-size: 1.05em;
    }

    .endpoint-desc {
      font-size: 0.95em;
      color: #666;
      margin-bottom: 15px;
      line-height: 1.5;
    }

    .endpoint-link {
      display: inline-block;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 8px 16px;
      border-radius: 6px;
      text-decoration: none;
      font-size: 0.9em;
      font-weight: 600;
      transition: all 0.3s;
      box-shadow: 0 2px 10px rgba(102, 126, 234, 0.3);
    }

    .endpoint-link:hover {
      transform: translateX(3px);
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }

    .test-section {
      background: linear-gradient(135deg, #f9fafb 0%, #f5f7fa 100%);
      padding: 25px;
      border-radius: 12px;
      margin-top: 20px;
      border: 2px solid #e8ecf1;
    }

    .test-section h3 {
      color: #667eea;
      margin-bottom: 18px;
      font-size: 1.3em;
    }

    .test-input {
      display: flex;
      gap: 12px;
      margin-bottom: 15px;
    }

    input[type="text"] {
      flex: 1;
      padding: 12px 16px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 0.95em;
      transition: border 0.3s;
    }

    input[type="text"]:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 12px 28px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 700;
      transition: all 0.3s;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }

    button:active {
      transform: translateY(0);
    }

    .response {
      background: #1e1e1e;
      color: #00ff00;
      padding: 18px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 0.85em;
      max-height: 350px;
      overflow-y: auto;
      margin-top: 15px;
      border: 2px solid #333;
      line-height: 1.5;
    }

    .response::-webkit-scrollbar {
      width: 8px;
    }

    .response::-webkit-scrollbar-track {
      background: #333;
    }

    .response::-webkit-scrollbar-thumb {
      background: #667eea;
      border-radius: 4px;
    }

    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }

    .info-card {
      background: linear-gradient(135deg, #f5f7fa 0%, #f0f5ff 100%);
      padding: 24px;
      border-radius: 12px;
      border-left: 4px solid #667eea;
    }

    .info-card h3 {
      color: #667eea;
      margin-bottom: 12px;
      font-size: 1.1em;
    }

    .info-card p {
      color: #555;
      font-size: 0.95em;
      line-height: 1.6;
    }

    code {
      background: #f0f0f0;
      padding: 3px 8px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      color: #667eea;
      font-weight: 500;
    }

    pre {
      background: #1e1e1e;
      color: #00ff00;
      padding: 16px;
      border-radius: 8px;
      overflow-x: auto;
      font-family: 'Courier New', monospace;
      margin: 15px 0;
      border: 2px solid #333;
    }

    footer {
      text-align: center;
      color: white;
      padding: 30px 20px;
      margin-top: auto;
      font-weight: 500;
    }

    .loading {
      display: none;
      color: #667eea;
      font-weight: 600;
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .quick-access {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
      margin: 20px 0;
    }

    .quick-btn {
      background: white;
      border: 2px solid #667eea;
      color: #667eea;
      padding: 10px 16px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      text-align: center;
      transition: all 0.3s;
      cursor: pointer;
      font-size: 0.9em;
    }

    .quick-btn:hover {
      background: #667eea;
      color: white;
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 2em;
      }

      .endpoints {
        grid-template-columns: 1fr;
      }

      .test-input {
        flex-direction: column;
      }

      .info-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <header>
      <h1>üéÆ Pet Simulator 99 Private API</h1>
      <p class="subtitle">Self-hosted API serving data from Firestore</p>
      <div class="status">‚úÖ All Systems Operational</div>
    </header>

    <div class="content">
      <h2>üì° API Endpoints (10 Total)</h2>
      <div class="quick-access">
        <a href="/api/collections" class="quick-btn">Collections</a>
        <a href="/api/exists" class="quick-btn">Exists</a>
        <a href="/api/rap" class="quick-btn">RAP</a>
        <a href="/api/clansTotal" class="quick-btn">Clans Total</a>
        <a href="/api/clans" class="quick-btn">Clans</a>
        <a href="/api/clansList" class="quick-btn">Clans List</a>
        <a href="/api/activeClanBattle" class="quick-btn">Battle</a>
        <a href="/health" class="quick-btn">Health</a>
      </div>
      
      <div class="endpoints">
        <div class="endpoint">
          <div class="endpoint-name">üìã /api/collections</div>
          <div class="endpoint-desc">Get all 34 available item collections</div>
          <a href="/api/collections" class="endpoint-link">View Data ‚Üí</a>
        </div>

        <div class="endpoint">
          <div class="endpoint-name">üîç /api/collection/:name</div>
          <div class="endpoint-desc">Get items from a specific collection</div>
          <a href="/api/collection/Potions" class="endpoint-link">Example: Potions ‚Üí</a>
        </div>

        <div class="endpoint">
          <div class="endpoint-name">‚ú® /api/exists</div>
          <div class="endpoint-desc">Get item existence tracking data (14.9k items)</div>
          <a href="/api/exists" class="endpoint-link">View Data ‚Üí</a>
        </div>

        <div class="endpoint">
          <div class="endpoint-name">üí∞ /api/rap</div>
          <div class="endpoint-desc">Get Recent Average Price data (13.4k items)</div>
          <a href="/api/rap" class="endpoint-link">View Data ‚Üí</a>
        </div>

        <div class="endpoint">
          <div class="endpoint-name">üë• /api/clansTotal</div>
          <div class="endpoint-desc">Get total clan count (165k+ clans)</div>
          <a href="/api/clansTotal" class="endpoint-link">View Data ‚Üí</a>
        </div>

        <div class="endpoint">
          <div class="endpoint-name">üìä /api/clans</div>
          <div class="endpoint-desc">Paginated clan data with sorting</div>
          <a href="/api/clans" class="endpoint-link">View Data ‚Üí</a>
        </div>

        <div class="endpoint">
          <div class="endpoint-name">üìù /api/clansList</div>
          <div class="endpoint-desc">Get list of all clan names</div>
          <a href="/api/clansList" class="endpoint-link">View Data ‚Üí</a>
        </div>

        <div class="endpoint">
          <div class="endpoint-name">üèÜ /api/clan/:name</div>
          <div class="endpoint-desc">Get specific clan details</div>
          <a href="/api/clan/SOPU" class="endpoint-link">Example: SOPU ‚Üí</a>
        </div>

        <div class="endpoint">
          <div class="endpoint-name">‚öîÔ∏è /api/activeClanBattle</div>
          <div class="endpoint-desc">Get current clan battle info</div>
          <a href="/api/activeClanBattle" class="endpoint-link">View Data ‚Üí</a>
        </div>

        <div class="endpoint">
          <div class="endpoint-name">üíö /health</div>
          <div class="endpoint-desc">API health check status</div>
          <a href="/health" class="endpoint-link">Check Status ‚Üí</a>
        </div>
      </div>
    </div>

    <div class="content">
      <h2>üß™ Test API Live</h2>
      <div class="test-section">
        <h3>Quick Endpoint Tester</h3>
        <div class="test-input">
          <input type="text" id="testUrl" placeholder="/api/collections" value="/api/collections">
          <button onclick="testEndpoint()">Test Endpoint</button>
        </div>
        <div class="loading" id="loading">‚è≥ Loading...</div>
        <div class="response" id="response" style="display:none;"></div>
      </div>
    </div>

    <div class="content">
      <h2>üìä API Information</h2>
      <div class="info-grid">
        <div class="info-card">
          <h3>üìç Base URL</h3>
          <code>https://pet-api-wjkm.onrender.com</code>
          <p style="margin-top: 10px; font-size: 0.9em; color: #999;">Hosted on Render (Free Tier)</p>
        </div>

        <div class="info-card">
          <h3>‚ö° Response Format</h3>
          <code>{"status":"ok","data":[...]}</code>
          <p style="margin-top: 10px; font-size: 0.9em; color: #999;">All responses follow standard format</p>
        </div>

        <div class="info-card">
          <h3>üíæ Database</h3>
          Google Firestore (Real-time DB)
          <p style="margin-top: 10px; font-size: 0.9em; color: #999;">14+ MB of game data stored</p>
        </div>

        <div class="info-card">
          <h3>üîÑ Cache TTL</h3>
          5-60 minutes per endpoint
          <p style="margin-top: 10px; font-size: 0.9em; color: #999;">In-memory optimization</p>
        </div>

        <div class="info-card">
          <h3>üì§ Deployment</h3>
          Node.js + Express on Render
          <p style="margin-top: 10px; font-size: 0.9em; color: #999;">Auto-deploys from GitHub</p>
        </div>

        <div class="info-card">
          <h3>üì¶ Data Coverage</h3>
          34 collections ‚Ä¢ 165k+ clans
          <p style="margin-top: 10px; font-size: 0.9em; color: #999;">Complete game dataset</p>
        </div>
      </div>
    </div>

    <div class="content">
      <h2>üí° Usage Example</h2>
      <pre>// Fetch all collections
fetch('https://pet-api-wjkm.onrender.com/api/collections')
  .then(r => r.json())
  .then(data => console.log(data))

// Get specific collection
fetch('https://pet-api-wjkm.onrender.com/api/collection/Potions')
  .then(r => r.json())
  .then(data => console.log(data))

// Get RAP data
fetch('https://pet-api-wjkm.onrender.com/api/rap')
  .then(r => r.json())
  .then(data => console.log(data))

// Test clan endpoint
fetch('https://pet-api-wjkm.onrender.com/api/clan/SOPU')
  .then(r => r.json())
  .then(data => console.log(data))</pre>
    </div>

    <footer>
      <p>üöÄ Pet Simulator 99 Private API | Powered by Express.js + Firestore + Render</p>
      <p style="font-size: 0.95em; margin-top: 10px;">All endpoints return <code>{ status, data }</code> format || Free & Always Available</p>
    </footer>
  </div>

  <script>
    async function testEndpoint() {
      const url = document.getElementById('testUrl').value;
      const loading = document.getElementById('loading');
      const response = document.getElementById('response');
      
      loading.style.display = 'block';
      response.style.display = 'none';
      
      try {
        const fullUrl = url.startsWith('http') ? url : `https://pet-api-wjkm.onrender.com${url}`;
        const res = await fetch(fullUrl);
        const data = await res.json();
        
        loading.style.display = 'none';
        response.style.display = 'block';
        response.textContent = JSON.stringify(data, null, 2);
      } catch (err) {
        loading.style.display = 'none';
        response.style.display = 'block';
        response.textContent = `‚ùå Error: ${err.message}`;
      }
    }

    // Allow Enter key to test
    document.getElementById('testUrl').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') testEndpoint();
    });
  </script>
</body>
</html>
